(function(e){var t=e.config("admin_path")+"js/flot/",n=[t+"jquery.flot.min.js",t+"jquery.flot.categories.min.js"],r={},i,s,o,u,a,f={series:{lines:{show:!1,steps:!1},points:{show:!1},bars:{show:!0,lineWidth:0,barWidth:.9,align:"center",fill:!0,fillColor:{colors:[{opacity:.7},{opacity:.2}]}}},xaxis:{mode:"categories",tickLength:0},grid:{hoverable:!0,color:"#CCC",borderWidth:1,borderColor:"#DDD",margin:{top:20,left:20,right:20,bottom:10},axisMargin:10},shadowSize:0,margin:30,legend:{labelFormatter:function(e,t){var n='<li><i style="background-color:'+t.color+'"></i>'+e+"</li> ";u.append(n)}}},l=function(t,n,r){return e.key_exists(n,t)?t[n]:r},c=function(e,t){e=e||{};t=t||{};var n={};for(var r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n},h=function(t,n,a){r=c(f,a);i=t;s=e('<div class="nc-chart-canvas"></div>').appendTo(i);o=e('<div class="nc-chart-table" style="display:none"></div>').appendTo(i);var p=e("<div class='nc-chart-legend'></div>").appendTo(i),d=e('<i class="nc-icon nc--dev-system-tables nc--right nc--hovered"></i>').appendTo(p);u=e("<ul></ul>").appendTo(p);d.click(function(){var e=$(this).parents("div.nc-chart");e.find("div.nc-chart-table").slideToggle();e.find("div.nc-chart-canvas").slideToggle()});(e.key_exists("width",r)||!i.width())&&i.width(l(r,"width",600));if(e.key_exists("height",r)){var v=l(r,"height",300);s.height(v);o.css({height:v,overflow:"auto"})}if("data"in n[0]){var m='<table class="nc-table nc--small nc--striped nc--wide">';m+="<tr>";m+="<th></th>";for(var g in n)m+="<th>"+n[g].label+"</th>";m+="</tr>";var y,b;for(g in n[0].data){y=(n[0].data[g][0]+"").replace("<br>"," ");m+="<tr>";m+="<td>"+y+"</td>";for(var w in n){b=n[w].data[g][1];m+="<td>"+b+"</td>"}m+="</tr>"}m+="</table>";o.html(m)}s.plot(n,r);h.hoverable(s)};h.__init=function(){for(var t in n)e("head").append('<script src="'+n[t]+'"></script>');e(function(){a=e("<div id='nc_chart_tooltip' class='nc-tooltip'></div>").css({position:"absolute"}).appendTo("body")})};h.set_defaults=function(e){f=c(f,e)};h.hoverable=function(t){e(t).bind("plothover",function(e,t,n){if(n){var r=a.height()/2+2;a.html(n.series.label+": "+n.datapoint[1].toFixed(2)).css({top:n.pageY-r,left:n.pageX+r}).fadeIn(200)}else a.hide()})};e.ext("chart",h)})(nc);